import { useNavigate } from "react-router-dom";
import { useState, useEffect } from "react";
import { useSelector } from 'react-redux';

import { getDayName, getMonthName, getDate } from './../../selectors/dateSelector';
import { getGeoLat, getGeoLon } from './../../selectors/geoSelectors';
import { APIWEATHER_KEY } from './../../apikeys';

import "./weather.css";

function Weather(location) {

  const navigate = useNavigate();

  const day = useSelector(getDayName);
  const month = useSelector(getMonthName);
  const date = useSelector(getDate);
  const lat = useSelector(getGeoLat);
  const lon = useSelector(getGeoLon);

  // const [geoStatus, setGeoStatus] = useState(null);
  const [geoData, setGeoData] = useState(undefined);
  const [weatherData, setWeatherData] = useState({});

  const [isActiveWeather, setIsActiveWeather] = useState(false);

  useEffect(() => {
    if (location.location === '/weather') {
      setIsActiveWeather(true);
    }
  }, []);

  // useEffect(() => {
  //   fetchGeo();
  //   fetchWeather();
  // }, []);

  // async function fetchWeather() {
  //   await fetch(
  //     `http://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${APIWEATHER_KEY}&units=metric`
  //   )
  //     .then((res) => res.json())
  //     .then((data) => setWeatherData(data));
  // }

  // async function fetchGeo() {
  //   await fetch(
  //     `http://api.openweathermap.org/geo/1.0/reverse?lat=${lat}&lon=${lon}&limit=1&appid=${APIWEATHER_KEY}`
  //   )
  //     .then((res) => res.json())
  //     .then((data) => setGeoData(data[0]));
  // }

  const [weatherBlockHiddenState, setWeatherBlockHiddenState] = useState(false);
  const [weatherNavHiddenState, setWeatherNavHiddenState] = useState(true);
  const [calendarNavHiddenState, setCalendarNavHiddenState] = useState(true);
  const [newsNavHiddenState, setNewsNavHiddenState] = useState(true);
  const [mapsNavHiddenState, setMapsrNavHiddenState] = useState(true);
  const [logoState, setLogoState] = useState(false);
  const [sidebarState, setSidebarState] = useState(false);

  function hideWeatherBlock(url) {
    setWeatherBlockHiddenState(true);
    setLogoState(true);
    setTimeout(() => {
      setSidebarState(true);
    }, 1000);
    setTimeout(() => {
      setWeatherNavHiddenState(false);
    }, 2000);
    setTimeout(() => {
      setCalendarNavHiddenState(false);
    }, 2150);
    setTimeout(() => {
      setNewsNavHiddenState(false);
    }, 2300);
    setTimeout(() => {
      setMapsrNavHiddenState(false);
    }, 2450);
    setTimeout(() => {
      navigate(url);
    }, 2600);
  }

  function goToNews() {
    hideWeatherBlock('/news');
  }

  function goToCalendar() {
    hideWeatherBlock('/moon-calendar');
  }

  function goToPollution() {
    hideWeatherBlock('/pollution');
  }

  return (
    <div className={`weather ${sidebarState ? "makeSmaller" : ""}`}>
      <div className="weather__container">
        <div
          className={`weather__left ${weatherBlockHiddenState ? "hidden" : ""}`}
        >
          <div className="weather__geo">
            <svg className="geo__pointer" width="19" height="24">
              <path
                d="M9.45002 0C14.6745 0 18.9 3.60195 18.9 8.05547C18.9 14.0971 9.45002 23.0156 9.45002 
                  23.0156C9.45002 23.0156 2.47955e-05 14.0971 2.47955e-05 8.05547C2.47955e-05 3.60195 4.22552 
                  0 9.45002 0ZM9.45002 10.9324C11.313 10.9324 12.825 9.64355 12.825 8.05547C12.825 6.46739 
                  11.313 5.17852 9.45002 5.17852C7.58702 5.17852 6.07502 6.46739 6.07502 8.05547C6.07502 
                  9.64355 7.58702 10.9324 9.45002 10.9324Z"
                fill="white"
              />
            </svg>
            <h1 className="geo__info">
              {geoData ? `${geoData?.name}, ${geoData?.country}` : "-"}
            </h1>
          </div>

          <h2 className="weather__date">
            {day} - {month} - {date}
          </h2>

          <div className="weather__block">
            <div className="weather__block_top">
              <span className="weather__temp">
                {weatherData.main
                  ? `${Math.ceil(weatherData?.main?.temp)}&deg`
                  : "-"}
              </span>

              <svg width="68" height="58">
                <path
                  d="M38.4268 19.9997C42.6605 19.9997 46.1021 23.1107 46.1021 26.9377C46.1021 27.9534 
                  45.8074 28.897 45.3714 29.7656C44.2846 29.8239 43.1609 29.971 41.939 30.2873C40.3395 
                  26.5325 37.0145 23.5852 32.8299 22.2254C34.2299 20.8655 36.2132 19.9997 38.4268 19.9997Z"
                  fill="#EFFF8D"
                />
                <path
                  d="M41.4969 4.7361L38.4268 13.0617L35.3566 4.7361C34.7917 3.20141 35.7066 1.5474 37.4013 
                  1.03676C39.0991 0.523348 40.932 1.35313 41.4969 2.88504C41.7272 3.51224 41.7118 4.15608 
                  41.4969 4.7361Z"
                  fill="#EFFF8D"
                />
                <path
                  d="M57.9651 13.2004L49.2797 17.1274L53.6239 9.27632C54.4253 7.83044 56.3686 7.24765 
                  57.9651 7.96643C59.5647 8.69075 60.2094 10.4475 59.4142 11.8933C59.0857 12.4817 58.573 
                  12.9257 57.9651 13.2004Z"
                  fill="#EFFF8D"
                />
                <path
                  d="M62.9879 29.7129L53.7775 26.9377L62.9879 24.1625C64.6856 23.6491 66.5154 24.4789 
                  67.0834 26.0135C67.6483 27.5454 66.7304 29.1995 65.0326 29.7129C64.3418 29.921 63.6295 
                  29.9044 62.9879 29.7129Z"
                  fill="#EFFF8D"
                />
                <path
                  d="M51.5547 30.662C51.9814 29.4853 52.2424 28.2448 52.2424 26.9377C52.2424 20.0524 
                  46.0438 14.4493 38.4268 14.4493C34.3128 14.4493 30.6378 16.0978 28.1203 18.6898L27.6813 
                  18.6121C22.2287 18.6121 17.338 20.7767 13.9608 24.193C13.224 23.971 12.5117 23.9543 
                  11.821 24.1625C10.1232 24.6759 9.2052 26.3299 9.7701 27.8618C9.9451 28.3253 10.2552 
                  28.6916 10.6205 29.0024C9.75168 30.9367 9.26046 33.0487 9.26046 35.2633L9.2666 
                  35.6129C3.97061 36.8479 0.0500488 41.1994 0.0500488 46.3641C0.0500488 52.4861 5.56095 
                  57.4648 12.3306 57.4648H46.1021C54.5665 57.4648 61.4528 51.2401 61.4528 43.5889C61.4528 
                  37.6805 57.3265 32.6574 51.5547 30.662ZM38.4268 19.9997C42.6605 19.9997 46.1021 23.1107 
                  46.1021 26.9377C46.1021 27.9534 45.8074 28.897 45.3714 29.7656C44.2846 29.8239 43.1609 
                  29.971 41.939 30.2873C40.3395 26.5325 37.0145 23.5852 32.8299 22.2254C34.2299 20.8655 
                  36.2132 19.9997 38.4268 19.9997ZM46.1021 51.9144H12.3306C8.94117 51.9144 6.19032 49.4251 
                  6.19032 46.3641C6.19032 43.303 8.94117 40.8137 12.0481 40.797L16.4139 40.8414L15.6525 
                  37.5056C15.4836 36.7757 15.4007 36.0181 15.4007 35.2633C15.4007 29.1412 20.9116 24.1625 
                  27.6813 24.1625L27.8931 24.1236C33.7387 24.2763 38.6233 28.0256 39.7039 33.1985L39.8206 
                  33.7147C40.1982 34.9247 41.4079 35.674 42.725 35.6906L43.6122 35.6268C44.5701 35.377 
                  45.3591 35.2633 46.1021 35.2633C51.1801 35.2633 55.3125 38.9987 55.3125 43.5889C55.3125 
                  48.179 51.1801 51.9144 46.1021 51.9144Z"
                  fill="#8DBBFF"
                />
                <path
                  d="M23.2296 9.27632L27.5738 17.1274L18.8884 13.2004C17.2889 12.4761 16.6411 10.7194 
                  17.4393 9.27632C18.2406 7.83044 20.1871 7.24765 21.7805 7.96643C22.4344 8.26337 22.9256 
                  8.72683 23.2296 9.27632Z"
                  fill="#EFFF8D"
                />
              </svg>
            </div>

            <div className="weather__block_bottom">
              <span className="weather__feeling">
                Real feel: {Math.ceil(weatherData?.main?.feels_like) || "-"}
              </span>

              <span className="weather__condition">
                {weatherData.weather ? weatherData.weather[0].main : "..."}
              </span>
            </div>
          </div>

          <div className="weather__info">
            <ul className="info__list">
              <li>Cloudiness</li>
              <li>Humidity</li>
              <li>Wind Speed</li>
              <li>Visibility</li>
              <li>Pressure</li>
            </ul>
            <ul className="info__list">
              <li>
                {weatherData.clouds ? `${weatherData.clouds.all} %` : "-"}
              </li>
              <li>
                {weatherData.main ? `${weatherData?.main?.humidity} %` : "-"}
              </li>
              <li>
                {weatherData.wind ? `${weatherData?.wind?.speed} m/s` : "-"}
              </li>
              <li>
                {weatherData.visibility ? `${weatherData?.visibility} m` : "-"}
              </li>
              <li>
                {weatherData.main ? `${weatherData?.main?.pressure} hPa` : "-"}
              </li>
            </ul>
          </div>

          <div className="weather__menu">
            <button className="menu__btn">
              <svg className={`menu__icon ${isActiveWeather ? "activeicon" : ""}`} width="25px" height="25px" viewBox="0 0 1.77 1.78">
                <path d="M1.09 0.12l-0.08 0.26 -0.08 -0.26c-0.02,-0.05 0.01,-0.1 0.05,-0.12 0.05,-0.01 0.1,0.01 0.11,0.06 0.01,0.02 0.01,0.04 0,0.06l0 0zm0.43 0.27l-0.23 0.12 0.12 -0.25c0.02,-0.04 0.07,-0.06 0.11,-0.04 0.05,0.03 0.06,0.08 0.04,0.13 -0.01,0.01 -0.02,0.03 -0.04,0.04zm0.14 0.52l-0.25 -0.09 0.25 -0.09c0.04,-0.01 0.09,0.01 0.1,0.06 0.02,0.05 -0.01,0.1 -0.05,0.12 -0.02,0 -0.04,0 -0.05,0l0 0zm-1.05 -0.65l0.11 0.25 -0.22 -0.12c-0.05,-0.03 -0.06,-0.08 -0.04,-0.13 0.02,-0.04 0.07,-0.06 0.11,-0.04 0.02,0.01 0.03,0.03 0.04,0.04zm0.74 0.68c0.02,-0.04 0.02,-0.08 0.02,-0.12 0,-0.22 -0.16,-0.39 -0.36,-0.39 -0.11,0 -0.21,0.05 -0.27,0.13l-0.01 0c-0.15,0 -0.28,0.07 -0.36,0.17 -0.02,0 -0.04,0 -0.06,0 -0.05,0.02 -0.07,0.07 -0.05,0.12 0,0.01 0.01,0.02 0.02,0.03 -0.02,0.06 -0.04,0.13 -0.04,0.2l0 0.01c-0.14,0.04 -0.24,0.18 -0.24,0.34 0,0.19 0.14,0.35 0.32,0.35l0.89 0c0.22,0 0.4,-0.2 0.4,-0.44 0,-0.18 -0.1,-0.34 -0.26,-0.4l0 0zm-0.34 -0.34c0.11,0 0.2,0.1 0.2,0.22 0,0.03 -0.01,0.06 -0.02,0.09 -0.03,0 -0.06,0 -0.09,0.01 -0.04,-0.11 -0.13,-0.21 -0.24,-0.25 0.04,-0.04 0.09,-0.07 0.15,-0.07zm0.2 1l-0.89 0c-0.09,0 -0.16,-0.07 -0.16,-0.17 0,-0.1 0.07,-0.17 0.16,-0.18l0.11 0.01 -0.02 -0.11c0,-0.02 -0.01,-0.05 -0.01,-0.07 0,-0.19 0.15,-0.35 0.33,-0.35l0 0c0.16,0.01 0.28,0.12 0.31,0.29l0.01 0.01c0.01,0.04 0.04,0.06 0.07,0.06l0.03 0c0.02,-0.01 0.04,-0.01 0.06,-0.01 0.13,0 0.24,0.12 0.24,0.26 0,0.15 -0.11,0.26 -0.24,0.26l0 0z" />
              </svg>
            </button>

            <button className="menu__btn" onClick={goToCalendar}>
              <svg
                className="menu__icon"
                width="25px"
                height="25px"
                viewBox="0 0 460.51 460.51"
              >
                <path d="M414.46 391.43c0,12.71 -10.32,23.03 -23.03,23.03l-322.35 0c-12.71,0 -23.03,-10.32 -23.03,-23.03l0 -230.25c0,-12.71 10.32,-23.03 23.03,-23.03l322.35 0c12.71,0 23.03,10.32 23.03,23.03l0 230.25zm0 -345.38l0 -23.02c0,-12.72 -10.32,-23.03 -23.03,-23.03 -12.71,0 -23.02,10.31 -23.02,23.03l0 23.02 -115.13 0 0 -23.02c0,-12.72 -10.32,-23.03 -23.03,-23.03 -12.71,0 -23.02,10.31 -23.02,23.03l0 23.02 -115.13 0 0 -23.02c0,-12.72 -10.31,-23.03 -23.02,-23.03 -12.71,0 -23.03,10.31 -23.03,23.03l0 23.02c-25.44,0 -46.05,20.61 -46.05,46.05l0 322.36c0,25.42 20.61,46.05 46.05,46.05l368.41 0c25.44,0 46.05,-20.63 46.05,-46.05l0 -322.36c0,-25.44 -20.61,-46.05 -46.05,-46.05l0 0z" />
                <path d="M150.04 278.27c0,-10.62 2.89,-23.75 7.17,-32.93 5.42,-11.63 10.45,-17.67 18.91,-26.04 2.09,-2.07 6.14,-5.02 8.45,-6.77 10.38,-7.86 23.28,-11.88 36.33,-13.81 2.22,-0.32 6.85,-0.67 9.35,-0.67l0 160.44c-15.29,0 -33.87,-5.54 -45.68,-14.49 -19.54,-14.8 -30.04,-30.52 -33.86,-56.38 -0.33,-2.22 -0.67,-6.85 -0.67,-9.35zm75.1 -95.08l10.26 0c6,0.33 12.06,1.24 18.11,2.75 3.19,0.79 5.85,1.64 8.83,2.68 7.57,2.65 16.49,7.3 22.72,11.81 18.65,13.49 32.04,32.27 37.6,54.88 1.55,6.28 2.43,12.68 2.67,19.09l0 7.27c-0.37,9.76 -2.2,19.44 -5.43,28.68 -0.98,2.82 -2.07,5.61 -3.36,8.15 -11.11,22.05 -24.21,35.13 -46.29,46.18 -11.17,5.59 -24.82,8.48 -38.55,8.66l-2.91 0c-13.81,-0.19 -27.54,-3.12 -38.77,-8.78 -22.05,-11.12 -35.13,-24.22 -46.18,-46.3 -6.59,-13.17 -8.66,-27.55 -8.66,-42.59 0,-17.92 6.88,-37.9 17.24,-52.21 17.46,-24.14 44.08,-38.72 72.72,-40.27z" />
              </svg>
            </button>

            <button className="menu__btn" onClick={goToNews}>
              <svg
                className="menu__icon"
                width="25px"
                height="25px"
                viewBox="0 0 12.94 12.96"
              >
                <path d="M1.88 12.96c-0.01,0 -0.02,0 -0.02,0 -0.22,0 -0.44,-0.01 -0.65,-0.02l-0.1 -0.03c-0.55,-0.15 -0.98,-0.68 -1.08,-1.35l-0.02 -0.11c-0.01,-0.12 -0.01,-0.46 -0.01,-0.76l0 -10.15c0,-0.3 0.2,-0.54 0.45,-0.54l10.06 0c0.24,0 0.44,0.24 0.45,0.54l0 1.76 1.5 0c0.26,0 0.48,0.26 0.48,0.58l0 8.24c0,1.02 -0.68,1.84 -1.52,1.84l-9.54 0zm0 -1.27l8.1 0c-0.05,-0.18 -0.07,-0.37 -0.07,-0.56 0,0 0,0 0,0l0 -2.5c0,-0.04 0,-0.08 0,-0.12l0 -7.24 -8.86 0 0 9.42c0,0.25 0,0.49 0,0.62l0.01 0.01c0.03,0.18 0.14,0.32 0.28,0.36l0.01 0c0.13,0 0.34,0.01 0.53,0.01l0 0zm6.87 -8.41l-6.58 0 0 1.27 6.58 0 0 -1.27zm-3.79 2.73l-2.79 0 0 4.05 2.79 0 0 -4.05zm3.79 0.03l-2.72 0 0 1.27 2.72 0 0 -1.27zm0 2.76l-2.72 0 0 1.27 2.72 0 0 -1.27zm2.21 -5.23l0 7.56c0,0.31 0.21,0.56 0.46,0.56 0.26,0 0.47,-0.25 0.47,-0.56l0 -7.56 -0.93 0z" />
              </svg>
            </button>

            <button className="menu__btn" onClick={goToPollution}>
            <svg
              className="menu__icon"
              width="25px"
              height="25px"
              viewBox="0 0 988.6 988.6"
            >
              <path
                d="M556.8,602.8c-3.8-6.6-12-9.3-19-6.3c-13.3,5.8-28,8.899-43.399,8.899c-15.301,0-29.9-3.199-43.2-8.899
			c-7-3-15.2-0.4-19,6.3l-106,184.7c-4.3,7.399-1.5,16.899,6.1,20.8c25.7,13.2,85.3,38.9,161.2,39.3l0,0c0,0,0.7,0,0.9,0
			c0.3,0,0.899,0,0.899,0l0,0c75.3-0.399,135.3-26.1,161.2-39.3c7.6-3.9,10.5-13.4,6.2-20.8L556.8,602.8z"
              />
              <path
                d="M385.5,483.8c3.6-30.6,19.7-57.8,43-75.5c6.1-4.6,7.8-13,3.9-19.5L325,205c-4.3-7.4-14-9.7-21.1-5
			c-24.3,15.8-76.4,55-114.2,120.2l0,0c-0.3,0.5-0.3,0.5-0.4,0.7c-0.1,0.2-0.4,0.7-0.4,0.7l0,0c-37.3,65.9-44.8,130.7-46.1,159.601
			c-0.4,8.6,6.4,15.699,15,15.699h213C378.2,497,384.6,491.3,385.5,483.8z"
              />
              <path
                d="M799.8,321.6c0,0-0.3-0.5-0.399-0.7c-0.101-0.2-0.101-0.2-0.4-0.7l0,0C761.2,255,709.1,215.8,684.8,200
			c-7.2-4.7-16.8-2.4-21.1,5L556.2,388.8c-3.8,6.6-2.101,14.9,3.899,19.5c23.301,17.7,39.4,44.9,43,75.5
			C604,491.3,610.4,497,618,497h213c8.6,0,15.4-7.101,15-15.7C844.6,452.399,837.2,387.6,799.8,321.6L799.8,321.6z"
              />
              <path
                d="M421,496.5c0.2,26.8,14.8,50.1,36.4,62.7c10.8,6.3,23.5,10,36.899,10c13.5,0,26.2-3.7,37.101-10
			c21.5-12.601,36-35.9,36.3-62.7c0-0.2,0-0.4,0-0.601c0-27.199-14.8-50.899-36.7-63.5c-10.8-6.199-23.3-9.8-36.6-9.8
			c-13.301,0-25.801,3.601-36.601,9.8c-21.899,12.7-36.7,36.4-36.7,63.5C421,496.1,421,496.3,421,496.5z"
              />
              <path
                d="M843.8,144.8c-45.3-45.4-98.2-81-157.1-105.9C625.7,13.1,561,0,494.3,0S362.9,13.1,301.9,38.9
			C243,63.8,190.2,99.4,144.8,144.8c-45.4,45.4-81,98.2-105.9,157.1C13.1,362.8,0,427.6,0,494.3s13.1,131.4,38.9,192.4
			C63.8,745.6,99.4,798.399,144.8,843.8c45.4,45.4,98.2,81,157.101,105.9C362.9,975.5,427.6,988.6,494.3,988.6
			s131.4-13.1,192.4-38.899c58.899-24.9,111.8-60.5,157.1-105.9c45.4-45.4,81-98.2,105.9-157.1c25.8-61,38.899-125.7,38.899-192.4
			s-13.1-131.5-38.8-192.4C924.9,243,889.2,190.2,843.8,144.8z M862.3,649.7c-20.1,47.5-48.899,90.199-85.6,126.899
			s-79.4,65.5-126.9,85.601C600.6,883,548.3,893.6,494.4,893.6c-53.9,0-106.2-10.6-155.4-31.399
			c-47.5-20.101-90.2-48.9-126.9-85.601c-36.7-36.7-65.5-79.399-85.6-126.899c-20.8-49.2-31.4-101.5-31.4-155.4
			s10.6-106.2,31.4-155.4c20.1-47.5,48.9-90.2,85.6-126.9c36.7-36.7,79.4-65.5,126.9-85.6C388.2,105.6,440.5,95,494.4,95
			C548.3,95,600.6,105.6,649.8,126.4c47.5,20.1,90.2,48.9,126.9,85.6c36.7,36.7,65.5,79.4,85.6,126.9
			c20.8,49.2,31.4,101.5,31.4,155.4S883.1,600.5,862.3,649.7z"
              />
            </svg>
            </button>
          </div>
        </div>

        <div>
          <div className={`weather__logo ${logoState ? "goRight" : ""}`}></div>
          <div className="sidebar__nav">
            <button className={`nav__item ${weatherNavHiddenState ? "hidden" : ""}`}>
              <svg className="nav__icon" width="22px" height="22px" viewBox="0 0 1.77 1.78">
                <path d="M1.09 0.12l-0.08 0.26 -0.08 -0.26c-0.02,-0.05 0.01,-0.1 0.05,-0.12 0.05,-0.01 0.1,0.01 0.11,0.06 0.01,0.02 0.01,0.04 0,0.06l0 0zm0.43 0.27l-0.23 0.12 0.12 -0.25c0.02,-0.04 0.07,-0.06 0.11,-0.04 0.05,0.03 0.06,0.08 0.04,0.13 -0.01,0.01 -0.02,0.03 -0.04,0.04zm0.14 0.52l-0.25 -0.09 0.25 -0.09c0.04,-0.01 0.09,0.01 0.1,0.06 0.02,0.05 -0.01,0.1 -0.05,0.12 -0.02,0 -0.04,0 -0.05,0l0 0zm-1.05 -0.65l0.11 0.25 -0.22 -0.12c-0.05,-0.03 -0.06,-0.08 -0.04,-0.13 0.02,-0.04 0.07,-0.06 0.11,-0.04 0.02,0.01 0.03,0.03 0.04,0.04zm0.74 0.68c0.02,-0.04 0.02,-0.08 0.02,-0.12 0,-0.22 -0.16,-0.39 -0.36,-0.39 -0.11,0 -0.21,0.05 -0.27,0.13l-0.01 0c-0.15,0 -0.28,0.07 -0.36,0.17 -0.02,0 -0.04,0 -0.06,0 -0.05,0.02 -0.07,0.07 -0.05,0.12 0,0.01 0.01,0.02 0.02,0.03 -0.02,0.06 -0.04,0.13 -0.04,0.2l0 0.01c-0.14,0.04 -0.24,0.18 -0.24,0.34 0,0.19 0.14,0.35 0.32,0.35l0.89 0c0.22,0 0.4,-0.2 0.4,-0.44 0,-0.18 -0.1,-0.34 -0.26,-0.4l0 0zm-0.34 -0.34c0.11,0 0.2,0.1 0.2,0.22 0,0.03 -0.01,0.06 -0.02,0.09 -0.03,0 -0.06,0 -0.09,0.01 -0.04,-0.11 -0.13,-0.21 -0.24,-0.25 0.04,-0.04 0.09,-0.07 0.15,-0.07zm0.2 1l-0.89 0c-0.09,0 -0.16,-0.07 -0.16,-0.17 0,-0.1 0.07,-0.17 0.16,-0.18l0.11 0.01 -0.02 -0.11c0,-0.02 -0.01,-0.05 -0.01,-0.07 0,-0.19 0.15,-0.35 0.33,-0.35l0 0c0.16,0.01 0.28,0.12 0.31,0.29l0.01 0.01c0.01,0.04 0.04,0.06 0.07,0.06l0.03 0c0.02,-0.01 0.04,-0.01 0.06,-0.01 0.13,0 0.24,0.12 0.24,0.26 0,0.15 -0.11,0.26 -0.24,0.26l0 0z" />
              </svg>
              <h1 className="nav__title">Weather</h1>
            </button>

            <button className={`nav__item ${calendarNavHiddenState ? "hidden" : ""}`}>
              <svg
                className={`nav__icon `}
                width="22px"
                height="22px"
                viewBox="0 0 460.51 460.51"
              >
                <path d="M414.46 391.43c0,12.71 -10.32,23.03 -23.03,23.03l-322.35 0c-12.71,0 -23.03,-10.32 -23.03,-23.03l0 -230.25c0,-12.71 10.32,-23.03 23.03,-23.03l322.35 0c12.71,0 23.03,10.32 23.03,23.03l0 230.25zm0 -345.38l0 -23.02c0,-12.72 -10.32,-23.03 -23.03,-23.03 -12.71,0 -23.02,10.31 -23.02,23.03l0 23.02 -115.13 0 0 -23.02c0,-12.72 -10.32,-23.03 -23.03,-23.03 -12.71,0 -23.02,10.31 -23.02,23.03l0 23.02 -115.13 0 0 -23.02c0,-12.72 -10.31,-23.03 -23.02,-23.03 -12.71,0 -23.03,10.31 -23.03,23.03l0 23.02c-25.44,0 -46.05,20.61 -46.05,46.05l0 322.36c0,25.42 20.61,46.05 46.05,46.05l368.41 0c25.44,0 46.05,-20.63 46.05,-46.05l0 -322.36c0,-25.44 -20.61,-46.05 -46.05,-46.05l0 0z" />
                <path d="M150.04 278.27c0,-10.62 2.89,-23.75 7.17,-32.93 5.42,-11.63 10.45,-17.67 18.91,-26.04 2.09,-2.07 6.14,-5.02 8.45,-6.77 10.38,-7.86 23.28,-11.88 36.33,-13.81 2.22,-0.32 6.85,-0.67 9.35,-0.67l0 160.44c-15.29,0 -33.87,-5.54 -45.68,-14.49 -19.54,-14.8 -30.04,-30.52 -33.86,-56.38 -0.33,-2.22 -0.67,-6.85 -0.67,-9.35zm75.1 -95.08l10.26 0c6,0.33 12.06,1.24 18.11,2.75 3.19,0.79 5.85,1.64 8.83,2.68 7.57,2.65 16.49,7.3 22.72,11.81 18.65,13.49 32.04,32.27 37.6,54.88 1.55,6.28 2.43,12.68 2.67,19.09l0 7.27c-0.37,9.76 -2.2,19.44 -5.43,28.68 -0.98,2.82 -2.07,5.61 -3.36,8.15 -11.11,22.05 -24.21,35.13 -46.29,46.18 -11.17,5.59 -24.82,8.48 -38.55,8.66l-2.91 0c-13.81,-0.19 -27.54,-3.12 -38.77,-8.78 -22.05,-11.12 -35.13,-24.22 -46.18,-46.3 -6.59,-13.17 -8.66,-27.55 -8.66,-42.59 0,-17.92 6.88,-37.9 17.24,-52.21 17.46,-24.14 44.08,-38.72 72.72,-40.27z" />
              </svg>
              <h1 className="nav__title">Calendar</h1>
            </button>

            <button className={`nav__item ${newsNavHiddenState ? "hidden" : ""}`}>
              <svg
                className={`nav__icon`}
                width="22px"
                height="22px"
                viewBox="0 0 12.94 12.96"
              >
                <path d="M1.88 12.96c-0.01,0 -0.02,0 -0.02,0 -0.22,0 -0.44,-0.01 -0.65,-0.02l-0.1 -0.03c-0.55,-0.15 -0.98,-0.68 -1.08,-1.35l-0.02 -0.11c-0.01,-0.12 -0.01,-0.46 -0.01,-0.76l0 -10.15c0,-0.3 0.2,-0.54 0.45,-0.54l10.06 0c0.24,0 0.44,0.24 0.45,0.54l0 1.76 1.5 0c0.26,0 0.48,0.26 0.48,0.58l0 8.24c0,1.02 -0.68,1.84 -1.52,1.84l-9.54 0zm0 -1.27l8.1 0c-0.05,-0.18 -0.07,-0.37 -0.07,-0.56 0,0 0,0 0,0l0 -2.5c0,-0.04 0,-0.08 0,-0.12l0 -7.24 -8.86 0 0 9.42c0,0.25 0,0.49 0,0.62l0.01 0.01c0.03,0.18 0.14,0.32 0.28,0.36l0.01 0c0.13,0 0.34,0.01 0.53,0.01l0 0zm6.87 -8.41l-6.58 0 0 1.27 6.58 0 0 -1.27zm-3.79 2.73l-2.79 0 0 4.05 2.79 0 0 -4.05zm3.79 0.03l-2.72 0 0 1.27 2.72 0 0 -1.27zm0 2.76l-2.72 0 0 1.27 2.72 0 0 -1.27zm2.21 -5.23l0 7.56c0,0.31 0.21,0.56 0.46,0.56 0.26,0 0.47,-0.25 0.47,-0.56l0 -7.56 -0.93 0z" />
              </svg>
              <h1 className={`nav__title`}>News</h1>
            </button>

            <button className={`nav__item ${mapsNavHiddenState ? "hidden" : ""}`}>
              <svg
                className={`nav__icon`}
                width="22px"
                height="22px"
                viewBox="0 0 988.6 988.6"
              >
                <path
                  d="M556.8,602.8c-3.8-6.6-12-9.3-19-6.3c-13.3,5.8-28,8.899-43.399,8.899c-15.301,0-29.9-3.199-43.2-8.899
        c-7-3-15.2-0.4-19,6.3l-106,184.7c-4.3,7.399-1.5,16.899,6.1,20.8c25.7,13.2,85.3,38.9,161.2,39.3l0,0c0,0,0.7,0,0.9,0
        c0.3,0,0.899,0,0.899,0l0,0c75.3-0.399,135.3-26.1,161.2-39.3c7.6-3.9,10.5-13.4,6.2-20.8L556.8,602.8z"
                />
                <path
                  d="M385.5,483.8c3.6-30.6,19.7-57.8,43-75.5c6.1-4.6,7.8-13,3.9-19.5L325,205c-4.3-7.4-14-9.7-21.1-5
        c-24.3,15.8-76.4,55-114.2,120.2l0,0c-0.3,0.5-0.3,0.5-0.4,0.7c-0.1,0.2-0.4,0.7-0.4,0.7l0,0c-37.3,65.9-44.8,130.7-46.1,159.601
        c-0.4,8.6,6.4,15.699,15,15.699h213C378.2,497,384.6,491.3,385.5,483.8z"
                />
                <path
                  d="M799.8,321.6c0,0-0.3-0.5-0.399-0.7c-0.101-0.2-0.101-0.2-0.4-0.7l0,0C761.2,255,709.1,215.8,684.8,200
        c-7.2-4.7-16.8-2.4-21.1,5L556.2,388.8c-3.8,6.6-2.101,14.9,3.899,19.5c23.301,17.7,39.4,44.9,43,75.5
        C604,491.3,610.4,497,618,497h213c8.6,0,15.4-7.101,15-15.7C844.6,452.399,837.2,387.6,799.8,321.6L799.8,321.6z"
                />
                <path
                  d="M421,496.5c0.2,26.8,14.8,50.1,36.4,62.7c10.8,6.3,23.5,10,36.899,10c13.5,0,26.2-3.7,37.101-10
        c21.5-12.601,36-35.9,36.3-62.7c0-0.2,0-0.4,0-0.601c0-27.199-14.8-50.899-36.7-63.5c-10.8-6.199-23.3-9.8-36.6-9.8
        c-13.301,0-25.801,3.601-36.601,9.8c-21.899,12.7-36.7,36.4-36.7,63.5C421,496.1,421,496.3,421,496.5z"
                />
                <path
                  d="M843.8,144.8c-45.3-45.4-98.2-81-157.1-105.9C625.7,13.1,561,0,494.3,0S362.9,13.1,301.9,38.9
        C243,63.8,190.2,99.4,144.8,144.8c-45.4,45.4-81,98.2-105.9,157.1C13.1,362.8,0,427.6,0,494.3s13.1,131.4,38.9,192.4
        C63.8,745.6,99.4,798.399,144.8,843.8c45.4,45.4,98.2,81,157.101,105.9C362.9,975.5,427.6,988.6,494.3,988.6
        s131.4-13.1,192.4-38.899c58.899-24.9,111.8-60.5,157.1-105.9c45.4-45.4,81-98.2,105.9-157.1c25.8-61,38.899-125.7,38.899-192.4
        s-13.1-131.5-38.8-192.4C924.9,243,889.2,190.2,843.8,144.8z M862.3,649.7c-20.1,47.5-48.899,90.199-85.6,126.899
        s-79.4,65.5-126.9,85.601C600.6,883,548.3,893.6,494.4,893.6c-53.9,0-106.2-10.6-155.4-31.399
        c-47.5-20.101-90.2-48.9-126.9-85.601c-36.7-36.7-65.5-79.399-85.6-126.899c-20.8-49.2-31.4-101.5-31.4-155.4
        s10.6-106.2,31.4-155.4c20.1-47.5,48.9-90.2,85.6-126.9c36.7-36.7,79.4-65.5,126.9-85.6C388.2,105.6,440.5,95,494.4,95
        C548.3,95,600.6,105.6,649.8,126.4c47.5,20.1,90.2,48.9,126.9,85.6c36.7,36.7,65.5,79.4,85.6,126.9
        c20.8,49.2,31.4,101.5,31.4,155.4S883.1,600.5,862.3,649.7z"
                />
              </svg>
              <h1 className="nav__title">Pollution</h1>
            </button>
          </div>
        </div>
      </div>
    </div>
  );
}

export default Weather;


// useEffect(() => {
//   if (!navigator.geolocation) {
//     setGeoStatus("Geolocation is not supported by your browser");
//   } else {
//     setGeoStatus("Locating...");
//     navigator.geolocation.getCurrentPosition(
//       (position) => {
//         setGeoStatus(null);
//         fetchGeo(position.coords.latitude, position.coords.longitude);
//         fetchWeather(position.coords.latitude, position.coords.longitude);
//       },
//       () => {
//         setGeoStatus("Unable to retrieve your location");
//       }
//     );
//   }
// }, []);

  // const getLocation = () => {
  //   if (!navigator.geolocation) {
  //     setGeoStatus("Geolocation is not supported by your browser");
  //   } else {
  //     setGeoStatus("Locating...");
  //     navigator.geolocation.getCurrentPosition(
  //       (position) => {
  //         setGeoStatus(null);
  //         fetchGeo(position.coords.latitude, position.coords.longitude);
  //         fetchWeather(position.coords.latitude, position.coords.longitude);
  //       },
  //       () => {
  //         setGeoStatus("Unable to retrieve your location");
  //       }
  //     );
  //   }
  // };
